<!doctype html>
<html>
<head>
<meta charset="utf-8">
<title> html08/WenContent/ex01.html </title>
<style rel="stylesheet" type="text/css">
	h1+p{
		cursor: pointor;
<!--이 부분 좀 더 이해해야 함-->
	}
</style>
<script type="text/javascript">
/*		//비동기통신
		readyState 종류
		https://developer.mozilla.org/ko/docs/Web/Guide/AJAX/Getting_Started
		0 (uninitialized) - (request가 초기화되지 않음)
		1 (loading) - (서버와의 연결이 성사됨)
		2 (loaded) - (서버가 request를 받음)
		3 (interactive) - (request(요청)을 처리하는 중)
		4 (complete) - (request에 대한 처리가 끝났으며 응답할 준비가 완료됨)

		HTTP 상태코드(이 외에도 엄청 많음)
		https://developer.mozilla.org/ko/docs/Web/HTTP/Status
		200 OK	요청이 성공적으로 되었습니다.
		403 Forbidden 클라이언트는 콘텐츠에 접근할 권리를 가지고 있지 않습니다.
		404 Not Found	서버는 요청받은 리소스를 찾을 수 없습니다.
		405 Method Not Allowed	요청한 메소드는 서버에서 알고 있지만, 제거되었고 사용할 수 없습니다.
		500 Internal Server Error	서버가 처리 방법을 모르는 상황이 발생했습니다. 서버는 아직 처리 방법을 알 수 없습니다.
		502 Bad Gateway	이 오류 응답은 서버가 요청을 처리하는 데 필요한 응답을 얻기 위해 게이트웨이로 작업하는 동안 잘못된 응답을 수신했음을 의미합니다.
*/
	var xhr;
	var result;
	function io(){
		xhr=new XMLHttpRequest();//통신용 객체
		xhr.onreadystatechange()=function(){
			console.log(xhr.readyState,xhr.status);
			if(xhr.readyState==4){//complete이면
				if(xhr.status==200){//HTTP OK면
					var msg=xhr.responseText;
					console.log(msg);
					result.innerHTML=msg;
				}else{
					alert('err');
				}
			}
		};
		xhr.open('get','ex01.jsp');//통신정보
		xhr.send();//통신실행
	}
	window.onload=function(){
		result=document.querySelector("h1+p");
		io();
	};
</script>
</head>

<body>
	<h1>자바스크립트 통신</h1>
	<p>result</p>
	<p><a href="ex01.jsp">link</a></p>
	<p>자바스크립트의 기본 통신방식은 비동기통신입니다</p>
</body>
</html>